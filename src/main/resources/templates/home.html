<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhml" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Web Application</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
</head>

<body>
	<nav class="navbar navbar-expand-lg bg-body-tertiary">
		<div class="container-fluid">
			<a class="navbar-brand" th:href="@{/products}">Accueil</a>

			<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
				data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">
					<li class="nav-item">
						<a class="nav-link" th:href="@{/categories}">Liste des catégories</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/addProduct}">Ajouter un produit</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" th:href="@{/addCategory}">Ajouter une catégorie</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="container">
		<h2 class="my-5 text-center">Liste des produits</h2>
		<div class="row justify-content-center">
			<div class="col-md-8">
					<div th:if="${products.empty}" class="alert alert-danger">Aucun produit en base de données</div>
				<table th:if="${not #lists.isEmpty(products)}" class="table table-striped">
					<thead>
						<tr>
							<th>Nom</th>
							<th>Description</th>
							<th>Prix €</th>
							<th class="text-center" colspan="2">Actions</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="product: ${products}">
							<td><span th:text="${product.name}"></span></td>
							<td><span th:text="${product.description}"></span></td>
							<td><span th:text="${product.price}"></span></td>
							<td>
								<a th:href="@{/updateProduct/{id}(id=${product.id})}" class="btn btn-sm btn-info w-100">Update</button>
							</td>
							<td>
								<a th:href="@{/deleteProduct/{id}(id=${product.id})}" class="btn btn-sm btn-danger w-100">Delete</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>
</body>
<footer class="position-fixed bottom-0 text-center w-100 bg-light p-2">
	<p class="pt-2 fst-italic text-muted">POC - Spring - MVC © 2023</p>
</footer>

</html>